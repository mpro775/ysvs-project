# وثيقة متطلبات النظام (SRS)

## مشروع تطوير المنصة الرقمية للجمعية اليمنية لجراحة الأوعية الدموية (YSVS)

**تاريخ الإصدار:** 11 يناير 2026
**الحالة:** مسودة نهائية
**التقنيات المستخدمة:** React 19 (Frontend) | NestJS (Backend) | MongoDB (Database)

---

## 1. مقدمة (Introduction)

تهدف هذه الوثيقة إلى تحديد المتطلبات الفنية والوظيفية لبناء نظام إداري ومنصة رقمية متكاملة للجمعية، لتحل محل نظام WordPress الحالي. يركز النظام الجديد على الأمان، الأتمتة، مركزية البيانات، ودعم البث المباشر والمؤتمرات بشكل احترافي.

---

## 2. المتطلبات الوظيفية (Functional Requirements)

وهي الخدمات والمهام المحددة التي سيقوم النظام بتنفيذها للمستخدمين (الزوار، الأطباء، والإدارة).

### 2.1 وحدة إدارة المؤتمرات والفعاليات (Event & Conference Module)

هذه الوحدة هي قلب النظام، وتهدف لاستبدال النماذج الخارجية (Google Forms) بنظام داخلي متكامل.

* **إنشاء وإدارة الفعاليات:**
  * إمكانية إضافة مؤتمر جديد ببيانات كاملة (العنوان، التواريخ، الموقع الجغرافي، الوصف، صورة الغلاف).
  * التحكم في حالة المؤتمر (قادم، جارٍ الآن، منتهي).
* **منشئ نماذج التسجيل الديناميكي (Dynamic Form Builder):**
  * نظام يسمح للمدير ببناء "نموذج تسجيل" مخصص لكل مؤتمر من لوحة التحكم.
  * دعم أنواع حقول متعددة: (نص قصير، نص طويل، قائمة منسدلة، اختيار متعدد، رفع ملفات/مرفقات).
  * الاستغناء الكامل عن Google Forms لضمان مركزية البيانات.
* **نظام التذاكر (Ticketing System):**
  * تحديد فئات الحضور (طالب، طبيب مقيم، أخصائي، استشاري).
  * تحديد خصائص كل تذكرة (السعر، العدد المتاح).
* **العداد التنازلي الذكي:**
  * عرض عداد تنازلي في الصفحة الرئيسية لأقرب فعالية قادمة تلقائياً.

### 2.2 وحدة البث المباشر (Live Streaming Module)

* **لوحة التحكم بالبث:**
  * زر تحويل (Toggle Switch) لتفعيل/إيقاف وضع "البث المباشر".
* **واجهة العرض التفاعلية:**
  * تغيير تخطيط (Layout) الصفحة الرئيسية تلقائياً عند بدء البث لإظهار مشغل الفيديو في الواجهة.
  * دعم دمج مصادر بث متعددة (YouTube Embed, Vimeo, Zoom Integration).
* **تنبيهات البث:**
  * ظهور شريط تنبيهي (Notification Bar) في أعلى الموقع عند وجود بث نشط.

### 2.3 نظام الشهادات والمصادقة الرقمية (Certificate & Verification System)

* **التوليد التلقائي (Auto-Generation):**
  * إصدار شهادات بصيغة PDF عالية الدقة فورياً بناءً على قالب تصميم موحد.
  * ملء بيانات (اسم الطبيب، اسم المؤتمر، الساعات المعتمدة CME) آلياً.
* **التحقق ومنع التزوير:**
  * توليد **QR Code** فريد لكل شهادة.
  * توليد **رقم تسلسلي (Serial Number)** لا يتكرر.
* **بوابة التحقق العامة:**
  * صفحة ويب عامة (`/verify`) تظهر تفاصيل الشهادة وصحتها عند مسح الـ QR Code.
* **الأرشيف الشخصي:**
  * إمكانية قيام العضو بتحميل شهاداته السابقة في أي وقت من ملفه الشخصي.

### 2.4 إدارة المحتوى والأخبار (CMS)

* **الأخبار والمقالات:**
  * محرر نصوص متطور (Rich Text Editor) لكتابة الأخبار وتنسيقها.
  * إدارة التصنيفات (Tags & Categories).
* **إدارة الهيئة الإدارية:**
  * واجهة لإضافة أعضاء المجلس (الاسم، الصورة، المسمى الوظيفي).
  * نظام ترتيب يدوي (Ordering) للتحكم بمن يظهر أولاً في صفحة "عن الجمعية".
* **مكتبة الوسائط:**
  * نظام رفع صور آمن ومحسن لاستخدامها في الموقع.

### 2.5 بوابة الأعضاء (Member Portal)

* **التسجيل والدخول:** نظام مصادقة آمن (Authentication).
* **الملف الطبي:** سجل يعرض تاريخ المؤتمرات التي حضرها الطبيب وحالة دفع الرسوم (إن وجدت).

---

## 3. المتطلبات غير الوظيفية (Non-Functional Requirements)

معايير الجودة التي تضمن كفاءة النظام وأمانه.

### 3.1 الأمان والحماية (Security)

* **تنظيف السمعة الرقمية:** إزالة كافة الروابط الخبيثة (SEO Spam) المؤرشفة سابقاً وإعادة تقديم خريطة الموقع (Sitemap) لمحركات البحث.
* **حماية البيانات:** تشفير كلمات المرور باستخدام خوارزميات قوية (Bcrypt/Argon2).
* **تطهير المدخلات (Validation):** حماية صارمة ضد هجمات XSS و Injection باستخدام مكتبات التحقق (Zod).
* **الصلاحيات (RBAC):** نظام صلاحيات يفصل بين (Super Admin) و (Editor) و (Member).

### 3.2 الأداء والسرعة (Performance)

* **تطبيق صفحة واحدة (SPA):** الموقع يعمل بدون إعادة تحميل للصفحات لضمان سرعة تصفح قصوى.
* **زمن الاستجابة:** استجابة الـ API يجب أن تكون قياسية (أقل من 200ms للطلبات الاعتيادية).
* **تحسين الصور:** ضغط الصور تلقائياً (WebP format) لتقليل استهلاك البيانات وسرعة الفتح.

### 3.3 تجربة المستخدم (UI/UX)

* **التوافقية (Responsiveness):** تصميم متجاوب يعمل بكفاءة على الهواتف، الأجهزة اللوحية، والمكتبية.
* **دعم اللغة:** واجهة عربية (RTL) مع ضبط كامل للخطوط والاتجاهات.
* **سهولة الاستخدام:** لوحة تحكم بسيطة لا تتطلب معرفة برمجية لإدارة الموقع.

### 3.4 الموثوقية والتوافر (Reliability)

* **معالجة الأخطاء:** صفحات خطأ مخصصة (Custom 404) تحافظ على هوية الموقع بدلاً من رسائل السيرفر الافتراضية.
* **النسخ الاحتياطي:** آلية لنسخ قاعدة البيانات (MongoDB) بشكل دوري.

---

## 4. المكدس التقني (Technology Stack)

* **الواجهة الأمامية:** React 19, Tailwind CSS, Shadcn/ui.
* **الواجهة الخلفية:** NestJS (Node.js framework).
* **قاعدة البيانات:** MongoDB.
* **الخدمات الإضافية:** PDFKit (للشهادات), Nodemailer (للبريد), Socket.io (للتحديثات اللحظية).

---

*تم إعداد هذه الوثيقة بواسطة: [اسمك/شركتك]*
